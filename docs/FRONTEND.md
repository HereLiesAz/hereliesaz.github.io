# Frontend Architecture

The frontend is built with **React**, **Vite**, and **React Three Fiber (R3F)**.

## Core Technology
- **React 18**: UI Library.
- **Zustand**: State Management.
- **Three.js**: 3D Rendering Engine.
- **@react-three/fiber**: React renderer for Three.js.
- **@react-three/drei**: Helpers for R3F.

## Key Components

### `src/canvas/InfiniteCanvas.jsx`
The primary renderer for the artwork.
- **InstancedBufferGeometry**: Uses raw buffer geometry to render up to 20,000 strokes per artwork efficiently.
- **ShaderMaterial**: Uses `AnamorphicShader` to handle the displacement and coloring of strokes.
- **Data Loading**: Fetches the processed JSON data and populates the geometry attributes (`aColor`, `aBounds`, `aDepth`, `aStability`).

### `src/canvas/CameraRig.jsx`
Controls the user's movement through the void.
- **Flight Mechanics**: Listens for `wheel` events to drive a physics-based flight controller (velocity + damping).
- **Parallax**: Adds mouse-look parallax for depth perception.
- **Store Sync**: Synchronizes the camera's Z-position with the global `transitionProgress` state in Zustand.

### `src/components/Overlay.jsx`
The 2D UI layer.
- **HUD**: Displays the title and technical details of the active artwork.
- **Glass Menu**: A backdrop-filtered menu for navigation and "Manifesto".
- **Dynamic CSS**: Injects scoped styles for the overlay elements.

### `src/store/useStore.js`
The application brain.
- **Graph Traversal**: Determines which artwork to show next based on the "Nearest Neighbor" graph generated by the Indexer.
- **State Management**: Tracks `activeId`, `nextId`, and `transitionProgress`.
